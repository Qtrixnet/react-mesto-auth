{"version":3,"sources":["images/Logo-white.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/Login.js","components/Register.js","components/InfoTooltip.js","components/ProtectedRoute.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","onSignOut","useState","isClicked","setIsClicked","className","alt","src","logo","path","to","exact","onClick","CurrentUserContext","React","createContext","Card","card","likeCounter","onCardClick","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","title","name","type","Main","onEditAvatar","onEditProfile","onAddPlace","cards","about","avatar","id","map","length","Footer","Date","getFullYear","ImagePopup","onClose","isOpen","element","api","data","this","_baseUrl","serverUrl","_token","token","res","ok","json","Promise","reject","status","statusText","fetch","headers","authorization","then","_requestResult","method","body","JSON","stringify","cardId","PopupWithForm","children","onSubmit","submitText","noValidate","EditProfilePopup","onUpdateUser","isDataLoad","profileName","setProfileName","profileDescription","setDescription","useEffect","e","preventDefault","value","onChange","target","placeholder","required","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onAddCard","placeName","setPlaceName","placeLink","setPlaceLink","minLength","ConfirmDeletePopup","onDeleteCard","Login","onLogin","password","profileData","setProfileData","handleChange","Register","onRegister","InfoTooltip","successful","ProtectedRoute","Component","component","props","loggedIn","baseUrl","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isCardDelete","setIsCardDelete","setIsDataLoad","selectedCard","setSelectedCard","selectedCardDelete","setSelectedCardDelete","setCurrentUser","setCards","setLoggedIn","isInfoTooltipShow","setInfoTooltipShow","initialData","profileEmail","setProfileEmail","handleInfoTooltip","closeAllPopups","getUserInfo","catch","err","console","log","getInitialCards","initialCards","history","useHistory","jwt","localStorage","getItem","push","Provider","removeItem","changeCardLike","newCard","newCards","c","auth","setItem","newUserData","editProfile","finally","addNewCard","newAvatar","editAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.61ae66ac.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo-white.1f1e9591.svg\";","import React, { useState } from \"react\";\r\nimport logo from \"../images/Logo-white.svg\";\r\nimport { Link, Route } from 'react-router-dom';\r\n\r\nfunction Header({ email, onSignOut }) {\r\n  const [isClicked, setIsClicked] = useState(false);\r\n\r\n  function handleClickMenu() {\r\n    setIsClicked(!isClicked)\r\n  }\r\n  \r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" alt=\"Логотип\" src={logo} />\r\n      <Route path=\"/sign-in\">\r\n        <Link to='sign-up' className='header__link'>Регистрация</Link>\r\n      </Route>\r\n      <Route path=\"/sign-up\">\r\n        <Link to='sign-in' className='header__link'>Войти</Link>\r\n      </Route>\r\n      <Route exact path=\"/\">\r\n            <div className=\"header__user-menu\">\r\n              <p className='header__email'>{email}</p>\r\n              <button\r\n                onClick={() => {\r\n                  onSignOut();\r\n                  handleClickMenu();\r\n                }}\r\n                className='header__link header__link_button'>Выйти</button>\r\n            </div>\r\n        </Route>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React, { useContext } from \"react\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, likeCounter, onCardClick, onCardDelete, onCardLike }) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  //* Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  //* Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = (\r\n    `elements__delete-button ${isOwn ? 'elements__delete-button_visible' : 'elements__delete-button_hidden'}`\r\n  );\r\n\r\n  //* Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  //* Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = (\r\n    `elements__like-button ${isLiked ? 'elements__like-button_active heartbeat' : ''}`\r\n  );\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card)\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card)\r\n  }\r\n\r\n  return (\r\n    <li className=\"elements__list-item\">\r\n      <img\r\n        src={card.link}\r\n        className=\"elements__picture\"\r\n        title=\"Посмотреть фотографию\"\r\n        alt={card.name}\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"elements__container\">\r\n        <h2 className=\"elements__text\">{card.name}</h2>\r\n        <button\r\n          type=\"button\"\r\n          title=\"Удалить карточку\"\r\n          className={cardDeleteButtonClassName}\r\n          onClick={handleDeleteClick}\r\n        ></button>\r\n        <div className=\"elements__like-container\">\r\n          <button\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <span className=\"elements__like-counter\">{likeCounter}</span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import React, { useContext } from \"react\";\r\nimport Card from \"./Card\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardDelete, onCardLike, cards }) {\r\n\r\n  const { name, about, avatar } = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-edit\">\r\n          <img\r\n            className=\"profile__avatar\"\r\n            title=\"Аватар профиля\"\r\n            src={avatar}\r\n            alt=\"Аватар\"\r\n          />\r\n          <button\r\n            title=\"Загрузить новый аватар\"\r\n            className=\"profile__avatar-edit-button\"\r\n            onClick={onEditAvatar}\r\n          ></button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 id=\"profile__name\" className=\"profile__name\">\r\n            {name}\r\n          </h1>\r\n          <p id=\"profile__job\" className=\"profile__job\">\r\n            {about}\r\n          </p>\r\n          <button\r\n            type=\"button\"\r\n            title=\"Редактировать профиль\"\r\n            className=\"profile__edit-button\"\r\n            onClick={onEditProfile}\r\n          ></button>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          title=\"Добавить новую фотографию\"\r\n          className=\"profile__add-button\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {cards.map((card) => (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={onCardClick}\r\n              onCardDelete={onCardDelete}\r\n              likeCounter={card.likes.length}\r\n              onCardLike={onCardLike}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__author\">\r\n        &copy; {new Date().getFullYear()} Kirill Shashichev 💙 Яндекс Практикум\r\n    </p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n\r\n  return (\r\n    <div className={`popup ${card.isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__fullScreen\">\r\n        <div className=\"popup__image-desription\">\r\n          <img\r\n            className=\"popup__image\"\r\n            src={`${card.element.link}`}\r\n            alt={card.element.name}\r\n          />\r\n          <p className=\"popup__image-subtitle\">{card.element.name}</p>\r\n          <button type=\"button\" onClick={onClose} className=\"popup__close-button\"></button>\r\n        </div>\r\n      </div>\r\n      <div onClick={onClose} className=\"popup__overlay\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","//* Класс для взаимодействия с сервером\r\nclass Api {\r\n  constructor(data) {\r\n    this._baseUrl = data.serverUrl;\r\n    this._token = data.token;\r\n  }\r\n\r\n  //* Проверка статуса запроса\r\n  _requestResult(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(\r\n        `Что-то пошло не так: Ошибка ${res.status} - ${res.statusText}`\r\n      );\r\n    }\r\n  }\r\n\r\n  //* Запрос данных пользователя\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  //* Запрос изначальных карточек\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  editAvatar(data) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data,\r\n      }),\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  //* Запрос на редактирование данных пользователя\r\n  editProfile(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  //* Запрос на добавление карточки\r\n  addNewCard(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  //* Запрос на удаление карточки\r\n  deleteCard(data) {\r\n    return fetch(`${this._baseUrl}/cards/${data}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  //* Запрос на добавление или удаление лайка карточки\r\n  changeCardLike(cardId, isLiked) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: !isLiked ? \"PUT\" : \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  serverUrl: \"https://mesto.nomoreparties.co/v1/cohort-19\",\r\n  token: \"4fc24223-fbb6-4e5b-bedd-d51fcb2b9911\",\r\n});\r\n\r\nexport default api;","import React from \"react\";\r\n\r\nfunction PopupWithForm({ id, isOpen, name, children, title, onClose, onSubmit, submitText }) {\r\n\r\n  return (\r\n    <div id={id} className={`popup ${isOpen && 'popup_opened'}`}>\r\n      <form name={name} className=\"popup__form\" onSubmit={onSubmit} noValidate>\r\n        <fieldset className=\"popup__set\">\r\n          <p className=\"popup__title\">{title}</p>\r\n          {children}\r\n          <button type=\"submit\" className=\"popup__button\">\r\n            {submitText}\r\n          </button>\r\n        </fieldset>\r\n        <button type=\"button\" onClick={onClose} className=\"popup__close-button\"></button>\r\n      </form>\r\n      <div onClick={onClose} className=\"popup__overlay\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState, useContext } from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isDataLoad }) {\r\n    const [profileName, setProfileName] = useState('');\r\n    const [profileDescription, setDescription] = useState('');\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    const { name, about } = currentUser;\r\n\r\n    function handleChangeName(e) {\r\n        setProfileName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        //* Передаём значения управляемых компонентов во внешний обработчик\r\n        onUpdateUser({\r\n            name: profileName,\r\n            about: profileDescription,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setProfileName(name);\r\n        setDescription(about);\r\n    }, [currentUser]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"profile\"\r\n            id=\"editProfile\"\r\n            title=\"Редактировать профиль\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            submitText={isDataLoad ? 'Сохраняем...' : 'Сохранить профиль'}\r\n        >\r\n            <label className=\"popup__form-field\">\r\n                <input\r\n                    value={profileName || ''} onChange={handleChangeName}\r\n                    name=\"name\"\r\n                    placeholder=\"Имя\"\r\n                    required\r\n                    maxLength=\"40\"\r\n                    className=\"popup__input\"\r\n                    id=\"popup__name-input\"\r\n                    type=\"text\"\r\n                />\r\n                <span\r\n                    id=\"popup__name-input-error\"\r\n                    className=\"popup__input-error\"\r\n                ></span>\r\n            </label>\r\n            <label className=\"popup__form-field\">\r\n                <input\r\n                    value={profileDescription || ''} onChange={handleChangeDescription}\r\n                    name=\"job\"\r\n                    placeholder=\"Профессия\"\r\n                    required\r\n                    maxLength=\"200\"\r\n                    className=\"popup__input\"\r\n                    id=\"popup__job-input\"\r\n                    type=\"text\"\r\n                />\r\n                <span\r\n                    id=\"popup__job-input-error\"\r\n                    className=\"popup__input-error\"\r\n                ></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React, { useRef } from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isDataLoad }) {\r\n\r\n    const avatarRef = useRef(); //* записываем объект, возвращаемый хуком, в переменную\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onUpdateAvatar(\r\n            avatarRef.current.value,\r\n        );\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"updateAvatar\"\r\n            id=\"update\"\r\n            title=\"Обновить аватар\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            submitText={isDataLoad ? 'Обновляем...' : 'Обновить'}\r\n        >\r\n            <label className=\"popup__form-field\">\r\n                <input\r\n                    ref={avatarRef}\r\n                    name=\"avatar\"\r\n                    className=\"popup__input\"\r\n                    id=\"popup__avatarLink-input\"\r\n                    required\r\n                    placeholder=\"Ссылка на изображение\"\r\n                    type=\"url\"\r\n                />\r\n                <span\r\n                    id=\"popup__avatarLink-input-error\"\r\n                    className=\"popup__input-error\"\r\n                ></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React, { useState } from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddCard, isDataLoad }) {\r\n\r\n    const [placeName, setPlaceName] = useState('');\r\n    const [placeLink, setPlaceLink] = useState('');\r\n\r\n\r\n    function handleChangePlaceName(e) {\r\n        setPlaceName(e.target.value);\r\n    }\r\n\r\n    function handleChangePlaceLink(e) {\r\n        setPlaceLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        //* Передаём значения управляемых компонентов во внешний обработчик\r\n        onAddCard({\r\n            name: placeName,\r\n            link: placeLink,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setPlaceName('');\r\n        setPlaceLink('');\r\n    }, [isOpen]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            name=\"newCard\"\r\n            id=\"addCard\"\r\n            title=\"Новое место\"\r\n            submitText={isDataLoad ? 'Добавляем...' : 'Добавить карточку'}\r\n        >\r\n            <label className=\"popup__form-field\">\r\n                <input\r\n                    value={placeName} onChange={handleChangePlaceName}\r\n                    name=\"placeName\"\r\n                    className=\"popup__input\"\r\n                    id=\"popup__placeName-input\"\r\n                    required\r\n                    minLength=\"1\"\r\n                    maxLength=\"30\"\r\n                    placeholder=\"Название карточки\"\r\n                    type=\"text\"\r\n                />\r\n                <span\r\n                    id=\"popup__placeName-input-error\"\r\n                    className=\"popup__input-error\"\r\n                ></span>\r\n            </label>\r\n            <label className=\"popup__form-field\">\r\n                <input\r\n                    value={placeLink} onChange={handleChangePlaceLink}\r\n                    name=\"placeLink\"\r\n                    className=\"popup__input\"\r\n                    id=\"popup__placeLink-input\"\r\n                    required\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    type=\"url\"\r\n                />\r\n                <span\r\n                    id=\"popup__placeLink-input-error\"\r\n                    className=\"popup__input-error\"\r\n                ></span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction ConfirmDeletePopup({ isOpen, onClose, isDataLoad, card, onDeleteCard }) {\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onDeleteCard(card);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"confirmDeleteCard\"\r\n            id=\"confirm\"\r\n            title=\"Вы уверены?\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            submitText={isDataLoad ? 'Удаляем...' : 'Да'}\r\n            onSubmit={handleSubmit}\r\n        />\r\n    )\r\n}\r\n\r\nexport default ConfirmDeletePopup;","import React, { useState } from \"react\";\r\n\r\nexport default function Login({ onLogin }) {\r\n  const initialData = {\r\n    email: '',\r\n    password: '',\r\n  }\r\n\r\n  const [profileData, setProfileData] = useState(initialData);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target\r\n    setProfileData(profileData => ({\r\n      ...profileData,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n\r\n    if (!profileData.password || !profileData.email) {\r\n      return;\r\n    }\r\n\r\n    onLogin(profileData)\r\n  }\r\n\r\n  return (\r\n    <form className=\"login\" onSubmit={handleSubmit}>\r\n      <h1 className=\"login__title\">Вход</h1>\r\n      <input className=\"login__email-input\" placeholder=\"Email\" id=\"email\" name=\"email\" type=\"email\" value={profileData.email} onChange={handleChange} minLength=\"2\" maxLength=\"40\" required />\r\n      <input className=\"login__password-input\" placeholder=\"Пароль\" id=\"password\" name=\"password\" type=\"password\" value={profileData.password} onChange={handleChange} minLength=\"2\" maxLength=\"40\" required />\r\n      <button className=\"login__button\" type=\"submit\">Войти</button>\r\n    </form>\r\n  )\r\n}\r\n","import React, { useState} from \"react\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Register({ onRegister }) {\r\n  const initialData = {\r\n    email: '',\r\n    password: '',\r\n  }\r\n\r\n  const [profileData, setProfileData] = useState(initialData);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target\r\n    setProfileData(profileData => ({\r\n      ...profileData,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    onRegister(profileData)\r\n  }\r\n\r\n  return (\r\n    <form className=\"register\" onSubmit={handleSubmit}>\r\n      <h1 className=\"register__title\">Регистрация</h1>\r\n      <input className=\"register__email-input\" placeholder=\"Email\" id=\"email\" name=\"email\" type=\"email\" value={profileData.email} onChange={handleChange} minLength=\"2\" maxLength=\"40\" required />\r\n      <input className=\"register__password-input\" placeholder=\"Пароль\" id=\"password\" name=\"password\" type=\"password\" value={profileData.password} onChange={handleChange} minLength=\"2\" maxLength=\"40\" required />\r\n      <button type=\"submit\" className=\"register__button\">Зарегистрироваться</button>\r\n      <Link to=\"/sign-in\" className=\"register__link\">Уже зарегистрированы? Войти</Link>\r\n    </form>\r\n  )\r\n}\r\n","import React from 'react';\r\n\r\nexport default function InfoTooltip({ onClose, status: { isOpen, successful }}) {\r\n\r\n  return (\r\n    <div className={`popup ${isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__info\">\r\n        <div className={`popup__status ${successful ? 'popup__status_success' : 'popup__status_fail'}`}></div>\r\n        <h2 className=\"popup__title popup__title_center\">{successful ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте еще раз.'}</h2>\r\n        <button type=\"button\" onClick={onClose} className=\"popup__close-button\"></button>\r\n      </div>\r\n      <div onClick={onClose} className=\"popup__overlay\"></div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport default function ProtectedRoute ({ component: Component, ...props }) {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  )\r\n}\r\n","export const baseUrl = \"https://auth.nomoreparties.co\";\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${baseUrl}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      email,\r\n      password,\r\n    })\r\n  })\r\n  .then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  })\r\n};\r\n\r\nexport const login = (email, password) => {\r\n  return fetch(`${baseUrl}/signin`, {\r\n    method: 'POST', \r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n  .then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  })\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${baseUrl}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`\r\n    },\r\n  })\r\n  .then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  })\r\n};","import React, { useEffect, useState } from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ConfirmDeletePopup from \"./ConfirmDeletePopup\";\r\nimport Login from \"./Login\";\r\nimport Register from './Register';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport * as auth from '../utils/auth';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [isCardDelete, setIsCardDelete] = useState(false);\r\n  const [isDataLoad, setIsDataLoad] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({\r\n    isOpen: false,\r\n    element: {},\r\n  });\r\n  const [selectedCardDelete, setSelectedCardDelete] = useState({\r\n    element: {}\r\n  });\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [isInfoTooltipShow, setInfoTooltipShow] = useState({isOpen: false, successful: false});\r\n  \r\n  const initialData = {\r\n    email: '',\r\n    password: '',\r\n  }\r\n\r\n  const [profileEmail, setProfileEmail] = useState('')\r\n\r\n  const [profileData, setProfileData] = useState(initialData);\r\n\r\n  useEffect(() => {\r\n    api.getUserInfo()\r\n      .then(res => { setCurrentUser(res); })\r\n      .catch(err => { console.log(err); })\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    api.getInitialCards()\r\n      .then(initialCards => {\r\n        setCards(initialCards);\r\n      })\r\n      .catch(err => { console.log(err) });\r\n  }, []);\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n  }\r\n\r\n  function handleDeleteButtonClick(card) {\r\n    setIsCardDelete(!isCardDelete);\r\n    setSelectedCardDelete(card);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(!isAddPlacePopupOpen);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard({ ...selectedCard, isOpen: true, element: card });\r\n  }\r\n  \r\n  function handleInfoTooltip(res) {\r\n    setInfoTooltipShow({...isInfoTooltipShow, isOpen: true, successful: res});\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setIsCardDelete(false);\r\n    setSelectedCard({ ...selectedCard, isOpen: false });\r\n    setSelectedCardDelete({});\r\n    setIsDataLoad(false);\r\n    setInfoTooltipShow({isOpen: false, successful: false})\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    //* Снова проверяем, есть ли уже лайк на данной карточке\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    //* Отправляем запрос в API и получаем обновлённые данные карточки\r\n\r\n    api.changeCardLike(card._id, isLiked).then((newCard) => {\r\n      //* Формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      //* Обновляем стейт\r\n      setCards(newCards);\r\n    })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateUser(newUserData) {\r\n    setIsDataLoad(true);\r\n    api.editProfile(newUserData)\r\n      .then(res => { setCurrentUser(res); closeAllPopups() })\r\n      .catch(err => { console.log(err) })\r\n      .finally(() => { setIsDataLoad(false) });\r\n  }\r\n\r\n  function handleUpdateAvatar(newAvatar) {\r\n    setIsDataLoad(true);\r\n    api.editAvatar(newAvatar)\r\n      .then(res => { setCurrentUser(res); closeAllPopups() })\r\n      .catch(err => { console.log(err) })\r\n      .finally(() => { setIsDataLoad(false) });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(newCard) {\r\n    setIsDataLoad(true);\r\n    api.addNewCard(newCard).then((res) => {\r\n      setCards([res, ...cards]); closeAllPopups()\r\n    })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => { setIsDataLoad(false) });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    setIsDataLoad(true);\r\n    api.deleteCard(card._id).then(() => {\r\n      const newCards = cards.filter(newCard => newCard._id !== card._id)\r\n      //* Обновляем стейт\r\n      setCards(newCards);\r\n      closeAllPopups()\r\n    })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => { setIsDataLoad(false) });\r\n  }\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if(jwt){\r\n      auth.checkToken(jwt)\r\n        .then(data => {\r\n          if(data){\r\n            setProfileEmail(data.data.email)\r\n            setLoggedIn(true)\r\n            history.push('/');\r\n          }\r\n        })\r\n    }\r\n  }, [history]);\r\n\r\n  function handleLogin({ email, password }) {\r\n    auth.login(email, password)\r\n      .then(res => {\r\n        console.log(res)\r\n        if (res.token) {\r\n          setLoggedIn(true);\r\n          setProfileData({\r\n            email: email,\r\n            password: password\r\n          })\r\n          localStorage.setItem('jwt', res.token);\r\n          history.push('/')\r\n        }\r\n      })\r\n      .catch(err => {\r\n        handleInfoTooltip(false);\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  function handleRegister({ email, password }) {\r\n    auth.register(email, password)\r\n      .then(data => {\r\n        if (data) {\r\n          handleInfoTooltip(true);\r\n          history.push('/sign-in');\r\n        }\r\n      })\r\n      .catch(err => {\r\n        handleInfoTooltip(false);\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  const handleSignOut = () => {\r\n    localStorage.removeItem('jwt');\r\n    setProfileData(initialData);\r\n    setLoggedIn(false);\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"page\">\r\n        <div className=\"page__container\">\r\n          <CurrentUserContext.Provider value={currentUser}>\r\n            <Header email={profileEmail} onSignOut={handleSignOut}/>\r\n            <Switch>\r\n              <ProtectedRoute\r\n                exact path=\"/\"\r\n                loggedIn={loggedIn}\r\n                component={Main}\r\n                onEditProfile={handleEditProfileClick}\r\n                onAddPlace={handleAddPlaceClick}\r\n                onEditAvatar={handleEditAvatarClick}\r\n                onCardClick={handleCardClick}\r\n                onCardDelete={handleDeleteButtonClick}\r\n                onCardLike={handleCardLike}\r\n                cards={cards}\r\n              />\r\n              <Route path=\"/sign-up\">\r\n                <Register onRegister={handleRegister} />\r\n              </Route>\r\n              <Route path=\"/sign-in\">\r\n                <Login onLogin={handleLogin} />\r\n              </Route>\r\n              <Route>\r\n                {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n              </Route>\r\n            </Switch>\r\n            <Footer />\r\n            <InfoTooltip onClose={closeAllPopups} status={isInfoTooltipShow} />\r\n            <EditProfilePopup isDataLoad={isDataLoad} onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\r\n            <AddPlacePopup isDataLoad={isDataLoad} onAddCard={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\r\n            <EditAvatarPopup isDataLoad={isDataLoad} onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\r\n            <ConfirmDeletePopup card={selectedCardDelete} isDataLoad={isDataLoad} onDeleteCard={handleCardDelete} isOpen={isCardDelete} onClose={closeAllPopups} />\r\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n          </CurrentUserContext.Provider>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}
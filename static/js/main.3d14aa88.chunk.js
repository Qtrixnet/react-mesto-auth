/*! For license information please see main.3d14aa88.chunk.js.LICENSE.txt */
(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{31:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n.n(c),i=n(20),o=n.n(i),r=(n(31),n(24)),l=n(5),u=n(2),p=n(3),j=n(9);var d=function(e){var t=e.email,n=e.onSignOut,s=e.loggedIn,i=Object(c.useState)(!1),o=Object(u.a)(i,2),r=o[0],l=o[1],d=Object(c.useState)(0),b=Object(u.a)(d,2),h=b[0],m=b[1],O=function(){m(window.innerWidth),h>=767&&l(!0)};function f(){l(!r)}return Object(c.useEffect)((function(){return O(),window.addEventListener("resize",O),function(){return window.removeEventListener("resize",O)}}),[O]),Object(a.jsxs)("header",{className:"header",children:[Object(a.jsx)("img",{className:"header__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",src:"data:image/png;base64,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"}),Object(a.jsx)(p.b,{path:"/sign-in",children:Object(a.jsx)(j.b,{to:"sign-up",className:"".concat(s?"header__link":"header__link header__link_login"),children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(a.jsx)(p.b,{path:"/sign-up",children:Object(a.jsx)(j.b,{to:"sign-in",className:"".concat(s?"header__link":"header__link header__link_login"),children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(a.jsxs)(p.b,{exact:!0,path:"/",children:[Object(a.jsx)("div",{className:"header__burger-menu",children:Object(a.jsx)("button",{type:"button",className:"".concat(r?"header__button header__button_close":"header__button header__button_burger"),onClick:f,children:Object(a.jsx)("span",{})})}),Object(a.jsxs)("div",{className:"".concat(r?"header__user-menu":"not-active"),children:[Object(a.jsx)("p",{className:"header__email",children:t}),Object(a.jsx)("button",{onClick:function(){n(),f()},className:"header__link header__link_button",children:"\u0412\u044b\u0439\u0442\u0438"})]})]})]})},b=s.a.createContext();var h=function(e){var t=e.card,n=e.likeCounter,s=e.onCardClick,i=e.onCardDelete,o=e.onCardLike,r=Object(c.useContext)(b),l=t.owner._id===r._id,u="elements__delete-button ".concat(l?"elements__delete-button_visible":"elements__delete-button_hidden"),p=t.likes.some((function(e){return e._id===r._id})),j="elements__like-button ".concat(p?"elements__like-button_active heartbeat":"");return Object(a.jsxs)("li",{className:"elements__list-item",children:[Object(a.jsx)("img",{src:t.link,className:"elements__picture",title:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e",alt:t.name,onClick:function(){s(t)}}),Object(a.jsxs)("div",{className:"elements__container",children:[Object(a.jsx)("h2",{className:"elements__text",children:t.name}),Object(a.jsx)("button",{type:"button",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",className:u,onClick:function(){i(t)}}),Object(a.jsxs)("div",{className:"elements__like-container",children:[Object(a.jsx)("button",{type:"button",className:j,onClick:function(){o(t)}}),Object(a.jsx)("span",{className:"elements__like-counter",children:n})]})]})]})};var m=function(e){var t=e.onEditAvatar,n=e.onEditProfile,s=e.onAddPlace,i=e.onCardClick,o=e.onCardDelete,r=e.onCardLike,l=e.cards,u=Object(c.useContext)(b),p=u.name,j=u.about,d=u.avatar;return Object(a.jsxs)("main",{className:"content",children:[Object(a.jsxs)("section",{className:"profile",children:[Object(a.jsxs)("div",{className:"profile__avatar-edit",children:[Object(a.jsx)("img",{className:"profile__avatar",title:"\u0410\u0432\u0430\u0442\u0430\u0440 \u043f\u0440\u043e\u0444\u0438\u043b\u044f",src:d,alt:"\u0410\u0432\u0430\u0442\u0430\u0440"}),Object(a.jsx)("button",{title:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0430\u0432\u0430\u0442\u0430\u0440",className:"profile__avatar-edit-button",onClick:t})]}),Object(a.jsxs)("div",{className:"profile__info",children:[Object(a.jsx)("h1",{id:"profile__name",className:"profile__name",children:p}),Object(a.jsx)("p",{id:"profile__job",className:"profile__job",children:j}),Object(a.jsx)("button",{type:"button",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",className:"profile__edit-button",onClick:n})]}),Object(a.jsx)("button",{type:"button",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e",className:"profile__add-button",onClick:s})]}),Object(a.jsx)("section",{className:"elements",children:Object(a.jsx)("ul",{className:"elements__list",children:l.map((function(e){return Object(a.jsx)(h,{card:e,onCardClick:i,onCardDelete:o,likeCounter:e.likes.length,onCardLike:r},e._id)}))})})]})};var O=function(){return Object(a.jsx)("footer",{className:"footer",children:Object(a.jsxs)("p",{className:"footer__author",children:["\xa9 ",(new Date).getFullYear()," Kirill Shashichev \ud83d\udc99 \u042f\u043d\u0434\u0435\u043a\u0441 \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"]})})};var f=function(e){var t=e.card,n=e.onClose;return Object(a.jsxs)("div",{className:"popup ".concat(t.isOpen&&"popup_opened"),children:[Object(a.jsx)("div",{className:"popup__fullScreen",children:Object(a.jsxs)("div",{className:"popup__image-desription",children:[Object(a.jsx)("img",{className:"popup__image",src:"".concat(t.element.link),alt:t.element.name}),Object(a.jsx)("p",{className:"popup__image-subtitle",children:t.element.name}),Object(a.jsx)("button",{type:"button",onClick:n,className:"popup__close-button"})]})}),Object(a.jsx)("div",{onClick:n,className:"popup__overlay"})]})},_=n(22),x=n(23),C=new(function(){function e(t){Object(_.a)(this,e),this._baseUrl=t.serverUrl,this._token=t.token}return Object(x.a)(e,[{key:"_requestResult",value:function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: \u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status," - ").concat(e.statusText))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{headers:{authorization:this._token}}).then((function(t){return e._requestResult(t)}))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/cards"),{headers:{authorization:this._token}}).then((function(t){return e._requestResult(t)}))}},{key:"editAvatar",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then((function(e){return t._requestResult(e)}))}},{key:"editProfile",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return t._requestResult(e)}))}},{key:"addNewCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return t._requestResult(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:{authorization:this._token}}).then((function(e){return t._requestResult(e)}))}},{key:"changeCardLike",value:function(e,t){var n=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:t?"DELETE":"PUT",headers:{authorization:this._token}}).then((function(e){return n._requestResult(e)}))}}]),e}())({serverUrl:"https://mesto.nomoreparties.co/v1/cohort-19",token:"4fc24223-fbb6-4e5b-bedd-d51fcb2b9911"});var g=function(e){var t=e.id,n=e.isOpen,c=e.name,s=e.children,i=e.title,o=e.onClose,r=e.onSubmit,l=e.submitText;return Object(a.jsxs)("div",{id:t,className:"popup ".concat(n&&"popup_opened"),children:[Object(a.jsxs)("form",{name:c,className:"popup__form",onSubmit:r,noValidate:!0,children:[Object(a.jsxs)("fieldset",{className:"popup__set",children:[Object(a.jsx)("p",{className:"popup__title",children:i}),s,Object(a.jsx)("button",{type:"submit",className:"popup__button",children:l})]}),Object(a.jsx)("button",{type:"button",onClick:o,className:"popup__close-button"})]}),Object(a.jsx)("div",{onClick:o,className:"popup__overlay"})]})};var v=function(e){var t=e.isOpen,n=e.onClose,s=e.onUpdateUser,i=e.isDataLoad,o=Object(c.useState)(""),r=Object(u.a)(o,2),l=r[0],p=r[1],j=Object(c.useState)(""),d=Object(u.a)(j,2),h=d[0],m=d[1],O=Object(c.useContext)(b),f=O.name,_=O.about;return Object(c.useEffect)((function(){p(f),m(_)}),[O]),Object(a.jsxs)(g,{name:"profile",id:"editProfile",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),s({name:l,about:h})},submitText:i?"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",children:[Object(a.jsxs)("label",{className:"popup__form-field",children:[Object(a.jsx)("input",{value:l||"",onChange:function(e){p(e.target.value)},name:"name",placeholder:"\u0418\u043c\u044f",required:!0,maxLength:"40",className:"popup__input",id:"popup__name-input",type:"text"}),Object(a.jsx)("span",{id:"popup__name-input-error",className:"popup__input-error"})]}),Object(a.jsxs)("label",{className:"popup__form-field",children:[Object(a.jsx)("input",{value:h||"",onChange:function(e){m(e.target.value)},name:"job",placeholder:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f",required:!0,maxLength:"200",className:"popup__input",id:"popup__job-input",type:"text"}),Object(a.jsx)("span",{id:"popup__job-input-error",className:"popup__input-error"})]})]})};var N=function(e){var t=e.isOpen,n=e.onClose,s=e.onUpdateAvatar,i=e.isDataLoad,o=Object(c.useRef)();return Object(a.jsx)(g,{name:"updateAvatar",id:"update",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),s(o.current.value)},submitText:i?"\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c...":"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",children:Object(a.jsxs)("label",{className:"popup__form-field",children:[Object(a.jsx)("input",{ref:o,name:"avatar",className:"popup__input",id:"popup__avatarLink-input",required:!0,placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",type:"url"}),Object(a.jsx)("span",{id:"popup__avatarLink-input-error",className:"popup__input-error"})]})})};var k=function(e){var t=e.isOpen,n=e.onClose,i=e.onAddCard,o=e.isDataLoad,r=Object(c.useState)(""),l=Object(u.a)(r,2),p=l[0],j=l[1],d=Object(c.useState)(""),b=Object(u.a)(d,2),h=b[0],m=b[1];return s.a.useEffect((function(){j(""),m("")}),[t]),Object(a.jsxs)(g,{isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),i({name:p,link:h})},name:"newCard",id:"addCard",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",submitText:o?"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c...":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",children:[Object(a.jsxs)("label",{className:"popup__form-field",children:[Object(a.jsx)("input",{value:p,onChange:function(e){j(e.target.value)},name:"placeName",className:"popup__input",id:"popup__placeName-input",required:!0,minLength:"1",maxLength:"30",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438",type:"text"}),Object(a.jsx)("span",{id:"popup__placeName-input-error",className:"popup__input-error"})]}),Object(a.jsxs)("label",{className:"popup__form-field",children:[Object(a.jsx)("input",{value:h,onChange:function(e){m(e.target.value)},name:"placeLink",className:"popup__input",id:"popup__placeLink-input",required:!0,placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",type:"url"}),Object(a.jsx)("span",{id:"popup__placeLink-input-error",className:"popup__input-error"})]})]})};var A=function(e){var t=e.isOpen,n=e.onClose,c=e.isDataLoad,s=e.card,i=e.onDeleteCard;return Object(a.jsx)(g,{name:"confirmDeleteCard",id:"confirm",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",isOpen:t,onClose:n,submitText:c?"\u0423\u0434\u0430\u043b\u044f\u0435\u043c...":"\u0414\u0430",onSubmit:function(e){e.preventDefault(),i(s)}})},w=n(11);function S(e){var t=e.onLogin,n=Object(c.useState)({email:"",password:""}),s=Object(u.a)(n,2),i=s[0],o=s[1],r=function(e){var t=e.target,n=t.name,a=t.value;o((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(w.a)({},n,a))}))};return Object(a.jsxs)("form",{className:"login",onSubmit:function(e){e.preventDefault(),i.password&&i.email&&t(i)},children:[Object(a.jsx)("h1",{className:"login__title",children:"\u0412\u0445\u043e\u0434"}),Object(a.jsx)("input",{autoComplete:"on",className:"login__email-input",placeholder:"Email",id:"email",name:"email",type:"email",value:i.email,onChange:r,minLength:"2",maxLength:"40",required:!0}),Object(a.jsx)("input",{autoComplete:"on",className:"login__password-input",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",id:"password",name:"password",type:"password",value:i.password,onChange:r,minLength:"2",maxLength:"40",required:!0}),Object(a.jsx)("button",{className:"login__button",type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]})}function B(e){var t=e.onRegister,n=Object(c.useState)({email:"",password:""}),s=Object(u.a)(n,2),i=s[0],o=s[1],r=function(e){var t=e.target,n=t.name,a=t.value;o((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(w.a)({},n,a))}))};return Object(a.jsxs)("form",{className:"register",onSubmit:function(e){e.preventDefault(),t(i)},children:[Object(a.jsx)("h1",{className:"register__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(a.jsx)("input",{autoComplete:"on",className:"register__email-input",placeholder:"Email",id:"email",name:"email",type:"email",value:i.email,onChange:r,minLength:"2",maxLength:"40",required:!0}),Object(a.jsx)("input",{autoComplete:"on",className:"register__password-input",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",id:"password",name:"password",type:"password",value:i.password,onChange:r,minLength:"2",maxLength:"40",required:!0}),Object(a.jsx)("button",{type:"submit",className:"register__button",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(a.jsx)(j.b,{to:"/sign-in",className:"register__link",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? \u0412\u043e\u0439\u0442\u0438"})]})}function E(e){var t=e.onClose,n=e.status,c=n.isOpen,s=n.successful;return Object(a.jsxs)("div",{className:"popup ".concat(c&&"popup_opened"),children:[Object(a.jsxs)("div",{className:"popup__info",children:[Object(a.jsx)("div",{className:"popup__status ".concat(s?"popup__status_success":"popup__status_fail")}),Object(a.jsx)("h2",{className:"popup__title popup__title_center",children:s?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."}),Object(a.jsx)("button",{type:"button",onClick:t,className:"popup__close-button"})]}),Object(a.jsx)("div",{onClick:t,className:"popup__overlay"})]})}var y=n(25);function D(e){var t=e.component,n=Object(y.a)(e,["component"]);return Object(a.jsx)(p.b,{children:function(){return n.loggedIn?Object(a.jsx)(t,Object(l.a)({},n)):Object(a.jsx)(p.a,{to:"./sign-in"})}})}var P="https://auth.nomoreparties.co";var T=function(){var e=Object(p.g)(),t=Object(c.useState)(!1),n=Object(u.a)(t,2),s=n[0],i=n[1],o=Object(c.useState)(!1),j=Object(u.a)(o,2),h=j[0],_=j[1],x=Object(c.useState)(!1),g=Object(u.a)(x,2),w=g[0],y=g[1],T=Object(c.useState)(!1),R=Object(u.a)(T,2),U=R[0],I=R[1],z=Object(c.useState)({isOpen:!1,successful:!1}),M=Object(u.a)(z,2),L=M[0],G=M[1],Q=Object(c.useState)([]),F=Object(u.a)(Q,2),K=F[0],q=F[1],H=Object(c.useState)(!1),J=Object(u.a)(H,2),W=J[0],Y=J[1],X=Object(c.useState)(""),V=Object(u.a)(X,2),Z=V[0],$=V[1],ee=Object(c.useState)(!1),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],ce=Object(c.useState)({}),se=Object(u.a)(ce,2),ie=se[0],oe=se[1],re=Object(c.useState)({isOpen:!1,element:{}}),le=Object(u.a)(re,2),ue=le[0],pe=le[1],je=Object(c.useState)({element:{}}),de=Object(u.a)(je,2),be=de[0],he=de[1];function me(e){G(Object(l.a)(Object(l.a)({},L),{},{isOpen:!0,successful:e}))}function Oe(){y(!1),i(!1),_(!1),I(!1),pe(Object(l.a)(Object(l.a)({},ue),{},{isOpen:!1})),he({}),ae(!1),G({isOpen:!1,successful:!1})}return Object(c.useEffect)((function(){var t,n=localStorage.getItem("jwt");n&&(t=n,fetch("".concat(P,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))).then((function(t){t&&($(t.data.email),Y(!0),e.push("/"))})).catch((function(e){console.log(e)}))}),[e]),Object(c.useEffect)((function(){C.getUserInfo().then((function(e){oe(e)})).catch((function(e){console.log(e)}))}),[]),Object(c.useEffect)((function(){C.getInitialCards().then((function(e){q(e)})).catch((function(e){console.log(e)}))}),[]),Object(a.jsx)("div",{className:"App",children:Object(a.jsx)("div",{className:"page",children:Object(a.jsx)("div",{className:"page__container",children:Object(a.jsxs)(b.Provider,{value:ie,children:[Object(a.jsx)(d,{loggedIn:W,email:Z,onSignOut:function(){localStorage.removeItem("jwt"),$(""),Y(!1),e.push("/sign-in")}}),Object(a.jsxs)(p.d,{children:[Object(a.jsx)(D,{exact:!0,path:"/",loggedIn:W,component:m,onEditProfile:function(){i(!s)},onAddPlace:function(){_(!h)},onEditAvatar:function(){y(!w)},onCardClick:function(e){pe(Object(l.a)(Object(l.a)({},ue),{},{isOpen:!0,element:e}))},onCardDelete:function(e){I(!U),he(e)},onCardLike:function(e){var t=e.likes.some((function(e){return e._id===ie._id}));C.changeCardLike(e._id,t).then((function(t){var n=K.map((function(n){return n._id===e._id?t:n}));q(n)})).catch((function(e){console.log(e)}))},cards:K}),Object(a.jsx)(p.b,{path:"/sign-up",children:Object(a.jsx)(B,{onRegister:function(t){(function(e,t){return fetch("".concat(P,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))})(t.email,t.password).then((function(t){t&&(me(!0),e.push("/sign-in"))})).catch((function(e){me(!1),console.log(e)}))}})}),Object(a.jsx)(p.b,{path:"/sign-in",children:Object(a.jsx)(S,{onLogin:function(t){var n=t.email,a=t.password;(function(e,t){return fetch("".concat(P,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))})(n,a).then((function(t){t.token&&($(n),Y(!0),localStorage.setItem("jwt",t.token),e.push("/"))})).catch((function(e){me(!1),console.log(e)}))}})}),Object(a.jsx)(p.b,{children:W?Object(a.jsx)(p.a,{to:"/"}):Object(a.jsx)(p.a,{to:"/sign-in"})})]}),Object(a.jsx)(O,{}),Object(a.jsx)(E,{onClose:Oe,status:L}),Object(a.jsx)(v,{isDataLoad:ne,onUpdateUser:function(e){ae(!0),C.editProfile(e).then((function(e){oe(e),Oe()})).catch((function(e){console.log(e)})).finally((function(){ae(!1)}))},isOpen:s,onClose:Oe}),Object(a.jsx)(k,{isDataLoad:ne,onAddCard:function(e){ae(!0),C.addNewCard(e).then((function(e){q([e].concat(Object(r.a)(K))),Oe()})).catch((function(e){console.log(e)})).finally((function(){ae(!1)}))},isOpen:h,onClose:Oe}),Object(a.jsx)(N,{isDataLoad:ne,onUpdateAvatar:function(e){ae(!0),C.editAvatar(e).then((function(e){oe(e),Oe()})).catch((function(e){console.log(e)})).finally((function(){ae(!1)}))},isOpen:w,onClose:Oe}),Object(a.jsx)(A,{card:be,isDataLoad:ne,onDeleteCard:function(e){ae(!0),C.deleteCard(e._id).then((function(){var t=K.filter((function(t){return t._id!==e._id}));q(t),Oe()})).catch((function(e){console.log(e)})).finally((function(){ae(!1)}))},isOpen:U,onClose:Oe}),Object(a.jsx)(f,{card:ue,onClose:Oe})]})})})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};o.a.render(Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(j.a,{children:Object(a.jsx)(T,{})})}),document.getElementById("root")),R()}},[[37,1,2]]]);
//# sourceMappingURL=main.3d14aa88.chunk.js.map
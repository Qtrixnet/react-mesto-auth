{"version":3,"sources":["images/Logo-white.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Spinner/Spinner.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","hooks/useForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/Login.js","components/Register.js","components/InfoTooltip.js","components/ProtectedRoute.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","onSignOut","loggedIn","useState","isClicked","setIsClicked","windowWidth","setWindowWidth","resizeWindow","useCallback","window","innerWidth","handleClickMenu","useEffect","addEventListener","removeEventListener","className","alt","src","logo","path","to","exact","type","onClick","CurrentUserContext","React","createContext","Card","card","likeCounter","onCardClick","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","title","name","loading","Spinner","Main","onEditAvatar","onEditProfile","onAddPlace","cards","about","avatar","id","map","length","Footer","Date","getFullYear","ImagePopup","onClose","isOpen","handleEscapeClose","evt","key","document","element","api","data","this","_baseUrl","serverUrl","_token","token","res","ok","json","Promise","reject","status","statusText","fetch","headers","authorization","then","_requestResult","method","body","JSON","stringify","cardId","PopupWithForm","children","onSubmit","submitText","isDisabled","noValidate","disabled","useFormWithValidation","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","newValues","newErrors","newIsValid","handleChange","input","target","value","validationMessage","closest","checkValidity","EditProfilePopup","onUpdateUser","isDataLoad","e","preventDefault","onChange","placeholder","required","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","ref","AddPlacePopup","onAddCard","minLength","ConfirmDeletePopup","onDeleteCard","Login","onLogin","password","profileData","setProfileData","autoComplete","Register","onRegister","InfoTooltip","successful","ProtectedRoute","Component","component","props","baseUrl","App","history","useHistory","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isCardDelete","setIsCardDelete","isInfoTooltipShow","setInfoTooltipShow","setCards","setLoggedIn","profileEmail","setProfileEmail","setIsDataLoad","isLoading","setIsLoading","setCurrentUser","selectedCard","setSelectedCard","selectedCardDelete","setSelectedCardDelete","handleInfoTooltip","closeAllPopups","jwt","localStorage","getItem","push","catch","err","console","log","getUserInfo","finally","getInitialCards","initialCards","Provider","removeItem","changeCardLike","newCard","state","c","auth","setItem","newUserData","editProfile","addNewCard","newAvatar","editAvatar","deleteCard","newCards","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2bdde113.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo-white.9acae848.svg\";","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport logo from '../images/Logo-white.svg';\r\nimport { Link, Route } from 'react-router-dom';\r\n\r\nfunction Header({ email, onSignOut, loggedIn }) {\r\n  //* Состояния\r\n  const [isClicked, setIsClicked] = useState(false);\r\n  const [windowWidth, setWindowWidth] = useState(0);\r\n\r\n  //* Проверка ширины окна просмотра, если больше 767 то бургер-меню считается открытым. \r\n  //* Без контроля ширины окна просмотра, если в мобильной версии закрыть бургер меню и развернуть большой экран, то поле имейла и кнопка имеют display: none;\r\n  let resizeWindow = useCallback(() => {\r\n    setWindowWidth(window.innerWidth);\r\n    if (windowWidth >= 767) {\r\n      setIsClicked(true);\r\n    }\r\n  }, [windowWidth]);\r\n\r\n  //* Проверка ширины окна при монтировании компонентов\r\n  useEffect(() => {\r\n    resizeWindow();\r\n    window.addEventListener(\"resize\", resizeWindow);\r\n    return () => window.removeEventListener(\"resize\", resizeWindow);\r\n  }, [resizeWindow]);\r\n\r\n  function handleClickMenu() {\r\n    setIsClicked(!isClicked)\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" alt=\"Логотип\" src={logo} />\r\n      <Route path=\"/sign-in\">\r\n        <Link to='sign-up' className={`${loggedIn ? 'header__link' : 'header__link header__link_login'}`}>Регистрация</Link>\r\n      </Route>\r\n      <Route path=\"/sign-up\">\r\n        <Link to='sign-in' className={`${loggedIn ? 'header__link' : 'header__link header__link_login'}`}>Войти</Link>\r\n      </Route>\r\n      <Route exact path=\"/\">\r\n        <div className='header__burger-menu'>\r\n          <button type=\"button\" className={`${isClicked ? 'header__button header__button_close' : 'header__button header__button_burger'}`} onClick={handleClickMenu}>\r\n            <span></span>\r\n          </button>\r\n        </div>\r\n        <div className={`${isClicked ? 'header__user-menu' : 'not-active'}`}>\r\n          <p className='header__email'>{email}</p>\r\n          <button\r\n            onClick={() => {\r\n              onSignOut();\r\n              handleClickMenu();\r\n            }}\r\n            className='header__link header__link_button'>Выйти</button>\r\n        </div>\r\n      </Route>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React, { useContext } from \"react\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, likeCounter, onCardClick, onCardDelete, onCardLike }) {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  //* Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  //* Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = (\r\n    `elements__delete-button ${isOwn ? 'elements__delete-button_visible' : 'elements__delete-button_hidden'}`\r\n  );\r\n\r\n  //* Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  //* Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = (\r\n    `elements__like-button ${isLiked ? 'elements__like-button_active heartbeat' : ''}`\r\n  );\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card)\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card)\r\n  }\r\n\r\n  return (\r\n    <li className=\"elements__list-item\">\r\n      <img\r\n        src={card.link}\r\n        className=\"elements__picture\"\r\n        title=\"Посмотреть фотографию\"\r\n        alt={card.name}\r\n        onClick={handleClick}\r\n        loading=\"lazy\"\r\n      />\r\n      <div className=\"elements__container\">\r\n        <h2 className=\"elements__text\">{card.name}</h2>\r\n        <button\r\n          type=\"button\"\r\n          title=\"Удалить карточку\"\r\n          className={cardDeleteButtonClassName}\r\n          onClick={handleDeleteClick}\r\n        ></button>\r\n        <div className=\"elements__like-container\">\r\n          <button\r\n            type=\"button\"\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <span className=\"elements__like-counter\">{likeCounter}</span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react'\r\nimport './spinner.css'\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"loadingio-spinner-double-ring-av4fvvi9jcd\">\r\n      <p>Загрузка...</p>\r\n      <div className=\"ldio-0fi3zkedlx1c\">\r\n        <div></div>\r\n        <div></div>\r\n        <div><div></div></div>\r\n        <div><div></div></div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Spinner;","import React, { useContext } from \"react\";\r\nimport Card from \"./Card\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport Spinner from './Spinner/Spinner';\r\n\r\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardDelete, onCardLike, cards, loading }) {\r\n\r\n  const { name, about, avatar } = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-edit\">\r\n          <img\r\n            className=\"profile__avatar\"\r\n            title=\"Аватар профиля\"\r\n            src={avatar}\r\n            alt=\"Аватар\"\r\n          />\r\n          <button\r\n            title=\"Загрузить новый аватар\"\r\n            className=\"profile__avatar-edit-button\"\r\n            onClick={onEditAvatar}\r\n          ></button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 id=\"profile__name\" className=\"profile__name\">\r\n            {name}\r\n          </h1>\r\n          <p id=\"profile__job\" className=\"profile__job\">\r\n            {about}\r\n          </p>\r\n          <button\r\n            type=\"button\"\r\n            title=\"Редактировать профиль\"\r\n            className=\"profile__edit-button\"\r\n            onClick={onEditProfile}\r\n          ></button>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          title=\"Добавить новую фотографию\"\r\n          className=\"profile__add-button\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        {\r\n          loading ? <Spinner /> :\r\n            <ul className=\"elements__list\">\r\n              {cards.map((card) => (\r\n                <Card\r\n                  key={card._id}\r\n                  card={card}\r\n                  onCardClick={onCardClick}\r\n                  onCardDelete={onCardDelete}\r\n                  likeCounter={card.likes.length}\r\n                  onCardLike={onCardLike}\r\n                />\r\n              ))}\r\n            </ul>\r\n        }\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__author\">\r\n        &copy; {new Date().getFullYear()} Kirill Shashichev 🤍 Яндекс Практикум\r\n    </p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useEffect } from \"react\";\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n  const isOpen = !!card;\r\n\r\n  useEffect(() => {\r\n    if (!isOpen) return;\r\n    const handleEscapeClose = (evt) => {\r\n      if (evt.key === 'Escape') {\r\n        onClose()\r\n      };\r\n    };\r\n    document.addEventListener('keyup', handleEscapeClose);\r\n    return () => {\r\n      document.removeEventListener('keyup', handleEscapeClose);\r\n    };\r\n  }, [isOpen, onClose])\r\n\r\n  return (\r\n    <div className={`popup ${card.isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__fullScreen\">\r\n        <div className=\"popup__image-desription\">\r\n          <img\r\n            className=\"popup__image\"\r\n            src={`${card.element.link || ''}`}\r\n            alt={card.element.name}\r\n          />\r\n          <p className=\"popup__image-subtitle\">{card.element.name}</p>\r\n          <button type=\"button\" onClick={onClose} className=\"popup__close-button\"></button>\r\n        </div>\r\n      </div>\r\n      <div onClick={onClose} className=\"popup__overlay\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","//* Класс для взаимодействия с сервером\r\nclass Api {\r\n  constructor(data) {\r\n    this._baseUrl = data.serverUrl;\r\n    this._token = data.token;\r\n  }\r\n\r\n  //* Проверка статуса запроса\r\n  _requestResult(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(\r\n        `Что-то пошло не так: Ошибка ${res.status} - ${res.statusText}`\r\n      );\r\n    }\r\n  }\r\n\r\n  //* Запрос данных пользователя\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  //* Запрос изначальных карточек\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  editAvatar(data) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      }),\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  //* Запрос на редактирование данных пользователя\r\n  editProfile(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  //* Запрос на добавление карточки\r\n  addNewCard(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  //* Запрос на удаление карточки\r\n  deleteCard(data) {\r\n    return fetch(`${this._baseUrl}/cards/${data}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n\r\n  //* Запрос на добавление или удаление лайка карточки\r\n  changeCardLike(cardId, isLiked) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: !isLiked ? \"PUT\" : \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then((res) => this._requestResult(res));\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  serverUrl: \"https://mesto.nomoreparties.co/v1/cohort-19\",\r\n  token: \"4fc24223-fbb6-4e5b-bedd-d51fcb2b9911\",\r\n});\r\n\r\nexport default api;","import React, { useEffect } from \"react\";\r\n\r\nfunction PopupWithForm({ id, isOpen, name, children, title, onClose, onSubmit, submitText, isDisabled }) {\r\n\r\n  useEffect(() => {\r\n    if (!isOpen) return;\r\n    const handleEscapeClose = (evt) => {\r\n      if (evt.key === 'Escape') {\r\n        onClose()\r\n      };\r\n    };\r\n    document.addEventListener('keyup', handleEscapeClose);\r\n    return () => {\r\n      document.removeEventListener('keyup', handleEscapeClose);\r\n    };\r\n  }, [isOpen, onClose])\r\n\r\n  return (\r\n    <div id={id} className={`popup ${isOpen && 'popup_opened'}`}>\r\n      <form name={name} className=\"popup__form\" onSubmit={onSubmit} noValidate>\r\n        <fieldset className=\"popup__set\">\r\n          <p className=\"popup__title\">{title}</p>\r\n          {children}\r\n          <button type=\"submit\" className={`popup__button ${isDisabled && \"popup__button_disabled\"}`} disabled={isDisabled}>\r\n            {submitText}\r\n          </button>\r\n        </fieldset>\r\n        <button type=\"button\" onClick={onClose} className=\"popup__close-button\"></button>\r\n      </form>\r\n      <div onClick={onClose} className=\"popup__overlay\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import { useCallback, useState } from 'react';\r\n\r\nexport function useForm() {\r\n  const [values, setValues] = useState({});\r\n\r\n  const handleChange = (evt) => {\r\n    const input = evt.target;\r\n    const name = input.name;\r\n    const value = input.value;\r\n\r\n    setValues({ ...values, [name]: value })\r\n  }\r\n\r\n  return { values, handleChange, setValues };\r\n}\r\n\r\nexport function useFormWithValidation() {\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isValid, setIsValid] = useState(false);\r\n\r\n  const handleChange = (evt) => {\r\n    const input = evt.target;\r\n    const name = input.name;\r\n    const value = input.value;\r\n\r\n    setValues({ ...values, [name]: value });\r\n    setErrors({ ...errors, [name]: input.validationMessage });\r\n    setIsValid(input.closest('form').checkValidity());\r\n  }\r\n  const resetForm = useCallback((newValues = {}, newErrors = {}, newIsValid = false) => {\r\n    setValues(newValues);\r\n    setErrors(newErrors);\r\n    setIsValid(newIsValid)\r\n  },\r\n    [setValues, setErrors, setIsValid]);\r\n\r\n  return { values, errors, isValid, handleChange, resetForm, setValues };\r\n}","import React, { useContext, useEffect } from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isDataLoad }) {\r\n  const { values, errors, isValid, handleChange, setValues, resetForm } = useFormWithValidation();\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    //* Передаём значения управляемых компонентов во внешний обработчик\r\n    onUpdateUser(values);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      resetForm();\r\n      setValues({\r\n        name: currentUser.name,\r\n        about: currentUser.about\r\n      });\r\n    }\r\n  }, [isOpen, resetForm, currentUser, setValues]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile\"\r\n      id=\"editProfile\"\r\n      title=\"Редактировать профиль\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      submitText={isDataLoad ? 'Сохраняем...' : 'Сохранить профиль'}\r\n      isDisabled={!isValid}\r\n    >\r\n      <label className=\"popup__form-field\">\r\n        <input\r\n          value={values.name || ''} onChange={handleChange}\r\n          name=\"name\"\r\n          placeholder=\"Имя\"\r\n          required\r\n          maxLength=\"40\"\r\n          className=\"popup__input\"\r\n          id=\"popup__name-input\"\r\n          type=\"text\"\r\n        />\r\n        <span\r\n          id=\"popup__name-input-error\"\r\n          className={`${errors.name ? 'popup__input-error popup__input-error_visible' : 'popup__input-error'}`}\r\n        >{errors.name}</span>\r\n      </label>\r\n      <label className=\"popup__form-field\">\r\n        <input\r\n          value={values.about || ''} onChange={handleChange}\r\n          name=\"about\"\r\n          placeholder=\"Профессия\"\r\n          required\r\n          maxLength=\"200\"\r\n          className=\"popup__input\"\r\n          id=\"popup__job-input\"\r\n          type=\"text\"\r\n        />\r\n        <span\r\n          id=\"popup__job-input-error\"\r\n          className={`${errors.about ? 'popup__input-error popup__input-error_visible' : 'popup__input-error'}`}\r\n        >{errors.about}</span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React, { useRef, useEffect } from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isDataLoad }) {\r\n  const { values, errors, isValid, handleChange, resetForm } = useFormWithValidation();\r\n\r\n  const avatarRef = useRef(); //* записываем объект, возвращаемый хуком, в переменную\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar(values);\r\n  }\r\n\r\n  useEffect(() => {\r\n    resetForm();\r\n  }, [isOpen, resetForm]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"updateAvatar\"\r\n      id=\"update\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      submitText={isDataLoad ? 'Обновляем...' : 'Обновить'}\r\n      isDisabled={!isValid}\r\n    >\r\n      <label className=\"popup__form-field\">\r\n        <input\r\n          value={values.avatar || \"\"} onChange={handleChange}\r\n          ref={avatarRef}\r\n          name=\"avatar\"\r\n          className=\"popup__input\"\r\n          id=\"popup__avatarLink-input\"\r\n          required\r\n          placeholder=\"Ссылка на изображение\"\r\n          type=\"url\"\r\n        />\r\n        <span\r\n          id=\"popup__avatarLink-input-error\"\r\n          className={`${errors.avatar ? 'popup__input-error popup__input-error_visible' : 'popup__input-error'}`}\r\n        >{errors.avatar}</span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React, { useEffect } from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddCard, isDataLoad }) {\r\n  const { values, errors, isValid, handleChange, resetForm } = useFormWithValidation();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    //* Передаём значения управляемых компонентов во внешний обработчик\r\n    onAddCard(values);\r\n  }\r\n\r\n  useEffect(() => {\r\n    resetForm();\r\n  }, [isOpen, resetForm]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      name=\"newCard\"\r\n      id=\"addCard\"\r\n      title=\"Новое место\"\r\n      submitText={isDataLoad ? 'Добавляем...' : 'Добавить карточку'}\r\n      isDisabled={!isValid}\r\n    >\r\n      <label className=\"popup__form-field\">\r\n        <input\r\n          value={values.name || \"\"} onChange={handleChange}\r\n          name=\"name\"\r\n          className=\"popup__input\"\r\n          id=\"popup__placeName-input\"\r\n          required\r\n          minLength=\"1\"\r\n          maxLength=\"30\"\r\n          placeholder=\"Название карточки\"\r\n          type=\"text\"\r\n        />\r\n        <span\r\n          id=\"popup__placeName-input-error\"\r\n          className={`${errors.name ? 'popup__input-error popup__input-error_visible' : 'popup__input-error'}`}\r\n        >{errors.name}</span>\r\n      </label>\r\n      <label className=\"popup__form-field\">\r\n        <input\r\n          value={values.link || \"\"} onChange={handleChange}\r\n          name=\"link\"\r\n          className=\"popup__input\"\r\n          id=\"popup__placeLink-input\"\r\n          required\r\n          placeholder=\"Ссылка на картинку\"\r\n          type=\"url\"\r\n        />\r\n        <span\r\n          id=\"popup__placeLink-input-error\"\r\n          className={`${errors.link ? 'popup__input-error popup__input-error_visible' : 'popup__input-error'}`}\r\n        >{errors.link}</span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction ConfirmDeletePopup({ isOpen, onClose, isDataLoad, card, onDeleteCard }) {\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onDeleteCard(card);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"confirmDeleteCard\"\r\n      id=\"confirm\"\r\n      title=\"Вы уверены?\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      submitText={isDataLoad ? 'Удаляем...' : 'Да'}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ConfirmDeletePopup;","import React, { useState } from \"react\";\r\n\r\nexport default function Login({ onLogin }) {\r\n  const initialData = {\r\n    email: '',\r\n    password: '',\r\n  }\r\n\r\n  const [profileData, setProfileData] = useState(initialData);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target\r\n    setProfileData(profileData => ({\r\n      ...profileData,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n\r\n    if (!profileData.password || !profileData.email) {\r\n      return;\r\n    }\r\n\r\n    onLogin(profileData)\r\n  }\r\n\r\n  return (\r\n    <form className=\"login\" onSubmit={handleSubmit}>\r\n      <h1 className=\"login__title\">Вход</h1>\r\n      <input autoComplete=\"on\" className=\"login__email-input\" placeholder=\"Email\" id=\"email\" name=\"email\" type=\"email\" value={profileData.email} onChange={handleChange} minLength=\"2\" maxLength=\"40\" required />\r\n      <input autoComplete=\"on\" className=\"login__password-input\" placeholder=\"Пароль\" id=\"password\" name=\"password\" type=\"password\" value={profileData.password} onChange={handleChange} minLength=\"2\" maxLength=\"40\" required />\r\n      <button className=\"login__button\" type=\"submit\">Войти</button>\r\n    </form>\r\n  )\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Register({ onRegister }) {\r\n\r\n  const initialData = {\r\n    email: '',\r\n    password: '',\r\n  }\r\n\r\n  const [profileData, setProfileData] = useState(initialData);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target\r\n    setProfileData(profileData => ({\r\n      ...profileData,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    onRegister(profileData)\r\n  }\r\n\r\n  return (\r\n    <form className=\"register\" onSubmit={handleSubmit}>\r\n      <h1 className=\"register__title\">Регистрация</h1>\r\n      <input autoComplete=\"on\" className=\"register__email-input\" placeholder=\"Email\" id=\"email\" name=\"email\" type=\"email\" value={profileData.email} onChange={handleChange} minLength=\"2\" maxLength=\"40\" required />\r\n      <input autoComplete=\"on\" className=\"register__password-input\" placeholder=\"Пароль\" id=\"password\" name=\"password\" type=\"password\" value={profileData.password} onChange={handleChange} minLength=\"2\" maxLength=\"40\" required />\r\n      <button type=\"submit\" className=\"register__button\">Зарегистрироваться</button>\r\n      <Link to=\"/sign-in\" className=\"register__link\">Уже зарегистрированы? Войти</Link>\r\n    </form>\r\n  )\r\n}\r\n","import React, { useEffect } from 'react';\r\n\r\nexport default function InfoTooltip({ onClose, status: { isOpen, successful } }) {\r\n\r\n  useEffect(() => {\r\n    if (!isOpen) return;\r\n    const handleEscapeClose = (evt) => {\r\n      if (evt.key === 'Escape') {\r\n        onClose()\r\n      };\r\n    };\r\n    document.addEventListener('keyup', handleEscapeClose);\r\n    return () => {\r\n      document.removeEventListener('keyup', handleEscapeClose);\r\n    };\r\n  }, [isOpen, onClose])\r\n\r\n  return (\r\n    <div className={`popup ${isOpen && 'popup_opened'}`}>\r\n      <div className=\"popup__info\">\r\n        <div className={`popup__status ${successful ? 'popup__status_success' : 'popup__status_fail'}`}></div>\r\n        <h2 className=\"popup__title popup__title_center\">{successful ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте еще раз.'}</h2>\r\n        <button type=\"button\" onClick={onClose} className=\"popup__close-button popup__close-button_info\"></button>\r\n      </div>\r\n      <div onClick={onClose} className=\"popup__overlay\"></div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport default function ProtectedRoute({ component: Component, ...props }) {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  )\r\n}\r\n","export const baseUrl = \"https://auth.nomoreparties.co\";\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${baseUrl}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      email,\r\n      password,\r\n    })\r\n  })\r\n  .then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  })\r\n};\r\n\r\nexport const login = (email, password) => {\r\n  return fetch(`${baseUrl}/signin`, {\r\n    method: 'POST', \r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n  .then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  })\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${baseUrl}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`\r\n    },\r\n  })\r\n  .then(res => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  })\r\n};","import React, { useEffect, useState } from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ConfirmDeletePopup from \"./ConfirmDeletePopup\";\r\nimport Login from \"./Login\";\r\nimport Register from './Register';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport * as auth from '../utils/auth';\r\n\r\nfunction App() {\r\n\r\n  const history = useHistory();\r\n\r\n  //! Состояния\r\n  //* Попапы\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [isCardDelete, setIsCardDelete] = useState(false);\r\n  const [isInfoTooltipShow, setInfoTooltipShow] = useState({ isOpen: false, successful: false });\r\n  const [cards, setCards] = useState([]);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [profileEmail, setProfileEmail] = useState('')\r\n\r\n  //* Данные\r\n  const [isDataLoad, setIsDataLoad] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [selectedCard, setSelectedCard] = useState({\r\n    isOpen: false,\r\n    element: {},\r\n  });\r\n  const [selectedCardDelete, setSelectedCardDelete] = useState({\r\n    element: {}\r\n  });\r\n\r\n  //! Эффекты при монтировании компонентов\r\n\r\n  //* Проверка токена и авторизация пользователя\r\n  useEffect(() => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (jwt) {\r\n      auth.checkToken(jwt)\r\n        .then(data => {\r\n          if (data) {\r\n            setProfileEmail(data.data.email)\r\n            setLoggedIn(true)\r\n            history.push('/');\r\n          }\r\n        })\r\n        .catch(err => { console.log(err); })\r\n    }\r\n  }, [history]);\r\n\r\n  //* Получение информации о пользователе\r\n  useEffect(() => {\r\n    setIsLoading(true)\r\n    api.getUserInfo()\r\n      .then(res => { setCurrentUser(res); })\r\n      .catch(err => { console.log(err); })\r\n      .finally(() => { setIsLoading(false) })\r\n  }, []);\r\n\r\n  //* Загрузка карточек\r\n  useEffect(() => {\r\n    setIsLoading(true)\r\n    api.getInitialCards()\r\n      .then(initialCards => {\r\n        setCards(initialCards);\r\n      })\r\n      .catch(err => console.log(err))\r\n      .finally(() => { setIsLoading(false) })\r\n  }, []);\r\n\r\n  //! Функции обработчики\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n  }\r\n\r\n  function handleDeleteButtonClick(card) {\r\n    setIsCardDelete(!isCardDelete);\r\n    setSelectedCardDelete(card);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(!isAddPlacePopupOpen);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard({ ...selectedCard, isOpen: true, element: card });\r\n  }\r\n\r\n  function handleInfoTooltip(res) {\r\n    setInfoTooltipShow({ ...isInfoTooltipShow, isOpen: true, successful: res });\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setIsCardDelete(false);\r\n    setSelectedCard({ ...selectedCard, isOpen: false });\r\n    setSelectedCardDelete({});\r\n    setIsDataLoad(false);\r\n    setInfoTooltipShow({ isOpen: false, successful: false })\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    //* Снова проверяем, есть ли уже лайк на данной карточке\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    //* Отправляем запрос в API и получаем обновлённые данные карточки\r\n\r\n    api.changeCardLike(card._id, isLiked)\r\n      .then((newCard) => {\r\n        //* Обновляем стейт\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateUser(newUserData) {\r\n    setIsDataLoad(true);\r\n    api.editProfile(newUserData)\r\n      .then(res => { setCurrentUser(res); closeAllPopups() })\r\n      .catch(err => { console.log(err) })\r\n      .finally(() => { setIsDataLoad(false) });\r\n  }\r\n\r\n  function handleUpdateAvatar(newAvatar) {\r\n    setIsDataLoad(true);\r\n    api.editAvatar(newAvatar)\r\n      .then(res => { setCurrentUser(res); closeAllPopups() })\r\n      .catch(err => { console.log(err) })\r\n      .finally(() => { setIsDataLoad(false) });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(newCard) {\r\n    setIsDataLoad(true);\r\n    api.addNewCard(newCard).then((res) => {\r\n      setCards([res, ...cards]); closeAllPopups()\r\n    })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => { setIsDataLoad(false) });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    setIsDataLoad(true);\r\n    api.deleteCard(card._id).then(() => {\r\n      const newCards = cards.filter(newCard => newCard._id !== card._id)\r\n      //* Обновляем стейт\r\n      setCards(newCards);\r\n      closeAllPopups()\r\n    })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => { setIsDataLoad(false) });\r\n  }\r\n\r\n  //* Вход в систему\r\n  function handleLogin({ email, password }) {\r\n    auth.login(email, password)\r\n      .then(res => {\r\n        if (res.token) {\r\n          setProfileEmail(email)\r\n          setLoggedIn(true);\r\n          localStorage.setItem('jwt', res.token);\r\n          history.push('/')\r\n        }\r\n      })\r\n      .catch(err => {\r\n        handleInfoTooltip(false);\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  //* Регистрация пользователя\r\n  function handleRegister({ email, password }) {\r\n    auth.register(email, password)\r\n      .then(data => {\r\n        if (data) {\r\n          handleInfoTooltip(true);\r\n          history.push('/sign-in');\r\n        }\r\n      })\r\n      .catch(err => {\r\n        handleInfoTooltip(false);\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  //* Выход из системы\r\n  const handleSignOut = () => {\r\n    localStorage.removeItem('jwt');\r\n    setProfileEmail('')\r\n    setLoggedIn(false);\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"page\">\r\n        <div className=\"page__container\">\r\n          <CurrentUserContext.Provider value={currentUser}>\r\n            <Header loggedIn={loggedIn} email={profileEmail} onSignOut={handleSignOut} />\r\n            <Switch>\r\n              <ProtectedRoute\r\n                exact path=\"/\"\r\n                loggedIn={loggedIn}\r\n                component={Main}\r\n                onEditProfile={handleEditProfileClick}\r\n                onAddPlace={handleAddPlaceClick}\r\n                onEditAvatar={handleEditAvatarClick}\r\n                onCardClick={handleCardClick}\r\n                onCardDelete={handleDeleteButtonClick}\r\n                onCardLike={handleCardLike}\r\n                cards={cards}\r\n                loading={isLoading}\r\n              />\r\n              <Route path=\"/sign-up\">\r\n                <Register onRegister={handleRegister} />\r\n              </Route>\r\n              <Route path=\"/sign-in\">\r\n                <Login onLogin={handleLogin} />\r\n              </Route>\r\n              <Route>\r\n                {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n              </Route>\r\n            </Switch>\r\n            <Footer />\r\n            <InfoTooltip onClose={closeAllPopups} status={isInfoTooltipShow} />\r\n            <EditProfilePopup isDataLoad={isDataLoad} onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\r\n            <AddPlacePopup isDataLoad={isDataLoad} onAddCard={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\r\n            <EditAvatarPopup isDataLoad={isDataLoad} onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\r\n            <ConfirmDeletePopup card={selectedCardDelete} isDataLoad={isDataLoad} onDeleteCard={handleCardDelete} isOpen={isCardDelete} onClose={closeAllPopups} />\r\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n          </CurrentUserContext.Provider>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { HashRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <>\r\n    <HashRouter>\r\n      <App />\r\n    </HashRouter>\r\n  </>,\r\n  document.getElementById(\"root\")\r\n);\r\nreportWebVitals();\r\n"],"sourceRoot":""}